
$sidebar-width: 240px;
$sidebar-collapsed-width: 72px;
$bg: #0f1724;
$link-color: #cbd5e1;
$link-active: #60a5fa;
$muted: #94a3b8;

.sidebar {
  display: flex;
  flex-direction: column;
  height: 100%;
  background: $bg;
  color: $link-color;
  width: $sidebar-width;
  transition: width 220ms ease, min-width 220ms ease;
  box-shadow: 1px 0 0 rgba(255,255,255,0.03);
  overflow: hidden;

  &.collapsed {
    width: $sidebar-collapsed-width;
  }

  .sidebar-top {
    display: flex;
    align-items: center;
    padding: 12px;
    gap: 8px;
  }

  .collapse-toggle {
    background: transparent;
    border: none;
    color: $link-color;
    cursor: pointer;
    padding: 6px;
    border-radius: 6px;
    display: inline-flex;
    align-items: center;
    justify-content: center;

    &:hover { background: rgba(255,255,255,0.03); }
  }

  .sidebar-header {
    display: flex;
    align-items: center;
    .brand {
      display: flex;
      gap: 8px;
      align-items: center;
      margin: 0;
      font-size: 14px;
      font-weight: 600;
      color: #fff;

      .brand-icon {
        background: #1f2937;
        width: 34px;
        height: 34px;
        border-radius: 6px;
        display: inline-flex;
        align-items: center;
        justify-content: center;
      }

      .brand-text {
        white-space: nowrap;
      }
    }
  }

  .sidebar-menu {
    display: flex;
    flex-direction: column;
    gap: 6px;
    padding: 12px;

    .sidebar-link {
      display: flex;
      align-items: center;
      gap: 12px;
      padding: 10px;
      border-radius: 8px;
      color: $link-color;
      text-decoration: none;
      font-size: 14px;

      svg { flex-shrink: 0; }

      &:hover { background: rgba(255,255,255,0.03); color: #fff; }

      &.active {
        background: rgba(96,165,250,0.12);
        color: $link-active;
      }
    }
  }

  .sidebar-footer {
    margin-top: auto;
    padding: 12px;

    .logout-btn {
      width: 100%;
      display: flex;
      gap: 12px;
      align-items: center;
      padding: 10px;
      border-radius: 8px;
      border: none;
      background: transparent;
      color: $link-color;
      cursor: pointer;
      font-size: 14px;

      &:hover { background: rgba(255,255,255,0.03); }
    }
  }
}

.app-shell.sidebar-collapsed {
  .sidebar {
    width: $sidebar-collapsed-width !important;
  }

  .sidebar .link-text,
  .sidebar .brand-text {
    display: none;
  }

  .sidebar .sidebar-link {
    justify-content: center; 
  }

  .sidebar .sidebar-top { justify-content: center; }
  .sidebar .sidebar-footer .logout-btn { justify-content: center; }
}


.sidebar.collapsed .sidebar-link[title] {
  position: relative;
}

.sidebar.collapsed .sidebar-link[title]:hover::after {
  content: attr(title);
  position: absolute;
  left: calc(100% + 10px);
  top: 50%;
  transform: translateY(-50%);
  background: rgba(15,23,36,0.95);
  color: #fff;
  padding: 6px 8px;
  white-space: nowrap;
  border-radius: 6px;
  box-shadow: 0 4px 12px rgba(2,6,23,0.6);
  font-size: 13px;
  z-index: 1000;
}


// @media (max-width: 800px) {
//   .sidebar { position: fixed; z-index: 40; left: 0; top: 0; bottom: 0; }
//   .app-shell .content-area { margin-left: $sidebar-width; }
//   .app-shell.sidebar-collapsed .content-area { margin-left: $sidebar-collapsed-width; }
// }
